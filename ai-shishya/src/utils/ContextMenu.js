define(["exports","./4efec337.mjs","three.mjs"],(function(e,t,i){"use strict";e.ContextMenu=class{constructor(e,i){this.element=e,this.viewer=i,this.selectionTool=this.viewer.tools.get(t.SelectionTool),this.viewer.tools.get(t.PickingTool).enabled=!0,this.viewer.addEventListener("pick",(e=>this.onPick(e))),this.viewer.addEventListener("navigationstart",(()=>this.hide())),this.viewer.addEventListener("dragstart",(()=>this.hide())),document.addEventListener("keydown",(e=>{"Escape"===e.code&&this.hide()}))}initContent(e){this.element.textContent=e.modelId+" : "+e.id}show(e,t){t.style.display="flex",t.style.left=e.screenPosition.x-t.clientWidth/2+"px",t.style.top=e.screenPosition.y-t.clientHeight-50+"px",this.switchSelectionTool(!1)}isShown(){return"none"!==this.element.style.display}hide(){this.isShown()&&(this.element.style.display="none",this.switchSelectionTool(!0))}switchSelectionTool(e){setTimeout((()=>this.selectionTool.enabled=e),0)}onPick(e){e.detail.modelId&&!this.isShown()?this.selectionTool.enabled&&(this.initContent(e.detail),this.show(e.detail,this.element)):this.hide()}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ContextMenu.js.map
