import{r as t,c as i,h as o,g as e}from"./p-123acab3.js";import{I as a}from"./p-e1057672.js";import{D as n}from"./p-3a0e9205.js";import"./p-df707f65.js";import"./p-10ce4025.js";import"./p-79bf39ea.js";import"./p-f0ead01e.js";import"./p-9eb540ee.js";import"./p-300164d5.js";import"./p-882f2a46.js";import"./p-4adf7d15.js";import"./p-58920ac2.js";import"./p-f1c4e2a0.js";import"./p-22f35afa.js";import"./p-4d2dda54.js";import"./p-30a18d49.js";const s=class{constructor(o){t(this,o),this.calendarIconClicked=i(this,"calendarIconClicked",7),this.dateInputBlur=i(this,"dateInputBlur",7),this.valueChange=i(this,"valueChange",7),this.classBySize=new Map([["medium","medium"],["large","large"]]),this._dateInputId=`date-input-${Math.random().toString().slice(2,7)}`,this._altFormatters=[],this.autoFormat=!1,this.allowedCharsRegex=void 0,this.ariaLabel=void 0,this.autoFocusInput=void 0,this.disabled=void 0,this.disableValidation=void 0,this.errorText=void 0,this.fillerDate=void 0,this.format="mm/dd/yyyy",this.altFormats=void 0,this.helperText=void 0,this.label=void 0,this.placeholder=void 0,this.readOnly=void 0,this.required=void 0,this.showCalendarIcon=void 0,this.size="medium",this.type="single",this.validText=void 0,this.value=void 0,this._dateDisplay=void 0}handleFillerDateChange(t){this._formatter=new n(t,this.format)}handleFormatChange(t){this._formatter=new n(this.fillerDate,t),this.handleValueChange(this.value)}handleAltFormatsChange(t){t&&(this._altFormatters=t.split("|").map((t=>t.trim())).filter(Boolean).map((t=>new n(this.fillerDate,t))))}handleValueChange(t){this._isEditing||(this._dateDisplay=this._formatter.formatDisplayString(t)),this.valueChange.emit({value:t,type:this.type,inputString:this._dateDisplay})}componentWillLoad(){this.handleFormatChange(this.format),this.handleAltFormatsChange(this.altFormats),this._dateDisplay=this._formatter.formatDisplayString(this.value),this.setDefaultAllowedKeysRegex(this.autoFormat)}async focusInput(){this._dateInput.focus()}handleCalendarClick(){this.calendarIconClicked.emit({value:this.value,type:this.type,inputString:this._dateDisplay})}handleDefaultKeyDown(t,i){const o=t.code.toUpperCase();"ENTER"!==o&&"SPACE"!==o||i()}handleBlur(){this._isEditing=!1,this.checkAltFormats(),this.validateInput(this._dateDisplay),this.dateInputBlur.emit({value:this.value,type:this.type,inputString:this._dateDisplay})}handleInputKeyPress(t){const i=this.keyIsValidDateCharacter(t.key);return i||t.preventDefault(),i}handleInputKeyDown(t){"enter"===t.key.toLowerCase()&&this.handleBlur()}handleOnInput(t){var i;this._isEditing=!0,t.stopPropagation(),t.preventDefault();const o=null===(i=t.currentTarget)||void 0===i?void 0:i.value;this._dateDisplay=o,this.value=this._formatter.parseDisplayString(this._dateDisplay)}clearValidation(){this.errorText=null}checkAltFormats(){if(!this.value)for(const t of this._altFormatters){const i=t.parseDisplayString(this._dateDisplay);if(i)return this._dateDisplay=this._formatter.formatDisplayString(i),void(this.value=i)}}keyIsValidDateCharacter(t){return!this.allowedCharsRegex||!!new RegExp(this.allowedCharsRegex).test(t)}setDefaultAllowedKeysRegex(t){this.allowedCharsRegex||(this.allowedCharsRegex=t?/\d/gi:/.*/)}validateInput(t){this.disableValidation||(t?this.value?this.clearValidation():this.errorText="Invalid date":this.required?this.errorText="Required":this.clearValidation())}render(){var t;return o("div",{class:"modus-date-input "+(this.disabled?"disabled":"")},this.label||this.required?o("div",{class:"label-container"},this.label?o("label",{htmlFor:this._dateInputId},this.label):null,this.required?o("span",{class:"required"},"*"):null):null,o("div",{class:`input-container ${this.errorText?"error":this.validText?"valid":""} ${this.classBySize.get(this.size)}`},o("input",{"aria-invalid":!!this.errorText,"aria-label":this.ariaLabel,"aria-required":null===(t=this.required)||void 0===t?void 0:t.toString(),autofocus:this.autoFocusInput,class:{"has-right-icon":this.showCalendarIcon},disabled:this.disabled,id:this._dateInputId,onBlur:()=>this.handleBlur(),onInput:t=>this.handleOnInput(t),onKeyPress:t=>this.handleInputKeyPress(t),onKeyDown:t=>this.handleInputKeyDown(t),placeholder:this.placeholder,readonly:this.readOnly,ref:t=>this._dateInput=t,tabIndex:0,type:"text",value:this._dateDisplay}),this.showCalendarIcon&&o("span",{class:"icons",tabIndex:0,onKeyDown:t=>this.handleDefaultKeyDown(t,(()=>this.handleCalendarClick())),onClick:()=>this.handleCalendarClick(),role:"button","aria-label":"Open calendar"},o(a,{icon:"calendar",size:"16"}))),o("div",{class:"sub-text"},this.errorText?o("label",{class:"error"},this.errorText):this.validText?o("label",{class:"valid"},this.validText):this.helperText?o("label",{class:"helper"},this.helperText):null))}get element(){return e(this)}static get watchers(){return{fillerDate:["handleFillerDateChange"],format:["handleFormatChange"],altFormats:["handleAltFormatsChange"],value:["handleValueChange"]}}};s.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");.modus-date-input{box-sizing:border-box;display:inline-flex;flex-direction:column;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";position:relative;width:100%}.modus-date-input button{background:0;border:0;cursor:pointer;margin:0;padding:0}.modus-date-input label{color:var(--modus-input-label-color, #464b52);font-size:0.75rem;margin-bottom:0.25rem}.modus-date-input label span{color:var(--modus-input-bottom-line-color, #6a6e79);margin:0.25rem}.modus-date-input .label-container{display:flex}.modus-date-input .label-container .required{bottom:0.0625rem;color:var(--modus-input-validation-error-color, #da212c);margin-left:0.25rem;position:relative}.modus-date-input .input-container{align-items:center;background-color:var(--modus-input-bg, #fff);border:0.0625rem solid var(--modus-input-border-color, #e0e1e9);border-bottom-color:var(--modus-input-bottom-line-color, #6a6e79);box-sizing:border-box;display:flex;flex-direction:row;height:2rem;position:relative;width:100%}.modus-date-input .input-container input{background-color:transparent;border:none;color:var(--modus-input-color, #252a2e);font-size:0.75rem;outline:none;padding:0 0.5rem;width:100%}.modus-date-input .input-container input.has-right-icon{padding-right:0}.modus-date-input .input-container input::placeholder{color:var(--modus-input-hint-text-color, #a3a6b1)}.modus-date-input .input-container .icons{align-items:center;background-color:var(--modus-input-bg, #fff);display:flex;font-size:1rem;height:100%;justify-content:center;width:2rem}.modus-date-input .input-container .icons svg.icon-calendar{cursor:pointer !important;padding:0 0.375rem}.modus-date-input .input-container .icons svg.icon-calendar path{fill:var(--modus-date-input-calendar-icon-color, #6a6e79)}.modus-date-input .input-container:hover{cursor:text}.modus-date-input .input-container:focus-within,.modus-date-input .input-container.error,.modus-date-input .input-container.valid{border-bottom-width:0.125rem}.modus-date-input .input-container:focus-within{border-bottom-color:var(--modus-input-bottom-line-active-color, #217cbb)}.modus-date-input .input-container:focus-within svg.icon-calendar path{fill:var(--modus-input-bottom-line-active-color, #217cbb)}.modus-date-input .input-container.error{border-bottom-color:var(--modus-input-validation-error-color, #da212c)}.modus-date-input .input-container.error svg.icon-calendar path{fill:var(--modus-input-validation-error-color, #da212c)}.modus-date-input .input-container.valid{border-bottom-color:var(--modus-input-validation-success-color, #006638)}.modus-date-input .input-container.valid svg.icon-calendar path{fill:var(--modus-input-validation-success-color, #006638)}.modus-date-input .input-container.large{height:3rem}.modus-date-input .input-container.large input{font-size:0.875rem}.modus-date-input .sub-text{font-size:0.6875rem}.modus-date-input .sub-text:has(label){margin-top:0.25rem}.modus-date-input .sub-text .helper{color:var(--modus-input-label-color, #464b52);font-weight:600}.modus-date-input .sub-text .error{color:var(--modus-input-validation-error-color, #da212c)}.modus-date-input .sub-text .valid{color:var(--modus-input-validation-success-color, #006638)}.modus-date-input span.required{color:var(--modus-input-validation-error-color, #da212c)}.modus-date-input.large{font-size:0.875rem;height:48px}.modus-date-input.disabled{pointer-events:none}.modus-date-input.disabled .input-container{background-color:var(--modus-input-disabled-bg, #e0e1e9);border:0.0625rem solid var(--modus-input-disabled-border-color, #e0e1e9);border-bottom-color:var(--modus-input-disabled-bottom-line-color, #a3a6b1)}.modus-date-input.disabled .input-container svg path{fill:var(--modus-input-disabled-color, #a3a6b1)}.modus-date-input.disabled .input-container .icons{background-color:var(--modus-input-disabled-bg, #e0e1e9);cursor:default}.modus-date-input.disabled .input-container input{background-color:transparent;border-radius:0;color:var(--modus-input-disabled-color, #a3a6b1);height:100%}.modus-date-input input{background-position:right calc(0.375em + 0.1875rem) center;background-repeat:no-repeat;background-size:calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);padding-right:calc(1.5em + 0.75rem)}';export{s as modus_date_input}