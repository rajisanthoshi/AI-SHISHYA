import{r as e,h as a,g as t}from"./p-123acab3.js";import{I as r}from"./p-e1057672.js";import{I as n}from"./p-3a0e9205.js";import"./p-df707f65.js";import"./p-10ce4025.js";import"./p-79bf39ea.js";import"./p-f0ead01e.js";import"./p-9eb540ee.js";import"./p-300164d5.js";import"./p-882f2a46.js";import"./p-4adf7d15.js";import"./p-58920ac2.js";import"./p-f1c4e2a0.js";import"./p-22f35afa.js";import"./p-4d2dda54.js";import"./p-30a18d49.js";const i=["January","February","March","April","May","June","July","August","September","October","November","December"];class o{constructor(e){if(e)this.gotoDate(e.currentDate.getFullYear(),e.currentDate.getMonth());else{const e=new Date;this.gotoDate(e.getFullYear(),e.getMonth())}}get year(){return this.currentDate.getFullYear().toString()}get month(){return i[this.currentDate.getMonth()]}get selectedYear(){return this.currentDate.getFullYear()}get selectedMonth(){return this.currentDate.getMonth()}get dates(){return this.currentMonthDates}addMonthOffset(e){return this.gotoDate(this.currentDate.getFullYear(),this.currentDate.getMonth()+e),this}addYearOffset(e){return this.gotoDate(this.currentDate.getFullYear()+e,this.currentDate.getMonth()),this}gotoDate(e,a){this.currentDate=new Date(e,a,1),this.calculateDates()}getDaysOfWeek(e,a=0){const t=new Intl.DateTimeFormat(e,{weekday:"short"}),r=new Date("11/01/2020"),n=[];for(let e=a;e<a+7;e++){const a=new Date(r);a.setDate(a.getDate()+e);const i=t.format(a);n.push(i.toUpperCase().startsWith("SA")?i:i.slice(0,2))}return n}calculateDates(){const e=[],a=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),r=new Date(a,t,1);for(;r.getMonth()===t;)e.push(new Date(r)),r.setDate(r.getDate()+1);this.currentMonthDates=e}}class d{constructor(e){var a;this.isOpen=!1,this.element=e,this.element.showCalendarIcon="FALSE"!==(null===(a=this.element.showCalendarIcon)||void 0===a?void 0:a.toString().toUpperCase()),this.refresh()}getDate(){return this.date}setDate(e){if(Number(e)){const a=e.getFullYear(),t=e.getMonth()+1,r=e.getDate();this.element.value=`${a}-${t}-${r}`,this.element.focusInput(),this.date=e}}setError(e=null){this.element.errorText=e}resetError(){this.element.errorText=null}refresh(){const e=new RegExp(n).exec(this.element.value);e?(e.shift(),this.date=new Date(parseFloat(e[0]),parseFloat(e[1])-1,parseFloat(e[2]),0,0,0,0)):this.date=null}toggleCalendar(e=null){this.isOpen=null!==e?e:!this.isOpen}isCalendarOpen(){return this.isOpen}}const s=class{constructor(a){e(this,a),this._dateInputs={},this._locale="default",this.isInvalidDateRange=(e,a)=>this.compare(a,e)<0,this.label=void 0,this._forceUpdate={},this._showCalendar=!1,this._showYearArrows=!1}componentWillLoad(){this._calendar=new o}handleCalendarIconClick(e){const{type:a}=e.detail;Object.keys(this._dateInputs).forEach((e=>this._dateInputs[e].toggleCalendar(e===a&&null))),this.toggleCalendar(),this._showCalendar&&this.gotoDateBeingPicked(this._dateInputs[a].getDate()),this.forceUpdate()}handleClickOutside(e){this.element.contains(e.target)||e.defaultPrevented||this.toggleCalendar(!1)}handleDateInputValue(e){const{type:a}=e.detail;this._dateInputs[a]&&(this._dateInputs[a].refresh(),this._showCalendar&&this.gotoDateBeingPicked(this._dateInputs[a].getDate()),this.forceUpdate())}handleDateInputBlur(){var e,a;this.applyDateRangeRules(null===(e=this._dateInputs.start)||void 0===e?void 0:e.getDate(),null===(a=this._dateInputs.end)||void 0===a?void 0:a.getDate())}handleSlotChange(){const e=Array.from(this.element.querySelectorAll("modus-date-input"));null==e||e.forEach((e=>{this._dateInputs[e.type]=new d(e)}))}addMonthOffset(e){this._calendar.addMonthOffset(e),this.forceUpdate()}addYearOffset(e){this._calendar.addYearOffset(e),this.forceUpdate()}applyDateRangeRules(e,a){e&&a&&(this.isInvalidDateRange(e,a)?(this._dateInputs.start.setError("Invalid date range"),this._dateInputs.end.setError()):(this._dateInputs.start.resetError(),this._dateInputs.end.resetError()))}compare(e,a){if(!e&&!a)return 0;if(!e&&a)return-1;if(e&&!a)return 1;let t;return t=e.getFullYear()-a.getFullYear(),0!==t?t:(t=e.getMonth()-a.getMonth(),0!==t?t:e.getDate()-a.getDate())}forceUpdate(){this._forceUpdate=Object.assign({},this._forceUpdate)}findDatePositionsInARange(e,a,t){return{start:a&&0===this.compare(e,a),end:t&&0===this.compare(e,t),"in-range":a&&t&&this.compare(e,a)>0&&this.compare(e,t)<0}}gotoDateBeingPicked(e){if(!this._showCalendar)return;const a=e||new Date;this._calendar.gotoDate(a.getFullYear(),a.getMonth())}pickCalendarDate(e){const a=Object.keys(this._dateInputs).find((e=>this._dateInputs[e].isCalendarOpen()));this._dateInputs[a].setDate(e),this.toggleCalendar(!1)}showYearChange(e=!0){this._showYearArrows=e}toggleCalendar(e=null){null!==e?(this._showCalendar=e,this._showCalendar||Object.keys(this._dateInputs||{}).forEach((e=>{this._dateInputs[e].toggleCalendar(!1)}))):this._showCalendar=!!Object.values(this._dateInputs).find((e=>e.isCalendarOpen()))}renderCalendarBody(){var e,t,r,n;const i=new Date,o=null===(e=this._dateInputs.start)||void 0===e?void 0:e.getDate(),d=null===(t=this._dateInputs.end)||void 0===t?void 0:t.getDate(),s=null===(r=this._dateInputs.single)||void 0===r?void 0:r.getDate(),l=null===(n=new Date(this._calendar.selectedYear,this._calendar.selectedMonth))||void 0===n?void 0:n.getDay(),c=new Array(l).fill(0);return a("div",{class:"calendar-body"},a("div",{class:"calendar-days-week grid"},this._calendar.getDaysOfWeek(this._locale).map((e=>a("div",{class:"grid-item"},e)))),a("div",{class:"calendar-month-container"},a("div",{class:{"calendar-month grid":!0,"invalid-date-range":this.isInvalidDateRange(o,d)}},c&&c.length>0&&c.map((()=>a("button",{class:{"calendar-day grid-item":!1,disabled:!0},tabIndex:-1},"Â "))),this._calendar.dates.map(((e,t)=>{if(!e)return null;const r=this.findDatePositionsInARange(e,o,d),n=r.start,l=r.end,c=0===this.compare(e,i),p=s&&0===this.compare(e,s),h=n||l||p;return a("button",Object.assign({class:{"calendar-day grid-item":!0,selected:h,start:n&&!l,end:l&&!n,"current-day":c,"range-selected":!h&&r["in-range"]},tabIndex:0,onClick:()=>this.pickCalendarDate(e)},t===this._calendar.dates.length-1?{onBlur:()=>{this.toggleCalendar(!1)}}:{}),e.getDate())})))))}renderCalendarHeader(){var e,t;return a("div",{class:"calendar-header"},a("button",{"aria-label":"Previous Month",onClick:()=>this.addMonthOffset(-1)},a(r,{icon:"chevron-left-thick"})),a("div",{class:"title"},a("span",{tabIndex:0,class:"calendar-title","aria-label":"ModusCalendar title",role:"title"},`${null===(e=this._calendar)||void 0===e?void 0:e.month} ${null===(t=this._calendar)||void 0===t?void 0:t.year}`),a("div",{class:"year-icons"},a("button",{tabIndex:0,"aria-label":"Next Year",onClick:()=>this.addYearOffset(1),class:"year-up"},a(r,{icon:"caret-up",size:"16"})),a("button",{tabIndex:0,"aria-label":"Previous Year",onClick:()=>this.addYearOffset(-1),class:"year-down"},a(r,{size:"16",icon:"caret-down"})))),a("button",{tabIndex:0,"aria-label":"Next Month",onClick:()=>this.addMonthOffset(1)},a(r,{icon:"chevron-right-thick"})))}render(){return a("div",{class:"modus-date-picker"},this.label?a("div",{class:"label-container"},this.label?a("label",null,this.label):null):null,a("div",{class:"date-inputs"},a("slot",{onSlotchange:()=>this.handleSlotChange()})),a("div",{style:{display:"inline-flex"}},this._showCalendar&&a("nav",{class:"calendar-container","aria-label":"Pick a Date"},this.renderCalendarHeader(),this.renderCalendarBody())))}get element(){return t(this)}};s.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");.modus-date-picker{display:inline-flex;flex-direction:column;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";position:relative;width:100%}.modus-date-picker .date-inputs{display:grid;grid-gap:0.5rem;grid-template-columns:auto auto}.modus-date-picker button{background:0;border:0;cursor:pointer;display:inline-flex;margin:0;padding:0}.modus-date-picker button.disabled{cursor:default}.modus-date-picker .label-container{display:flex}.modus-date-picker .label-container label{color:var(--modus-input-label-color, #464b52);font-size:0.75rem;margin-bottom:0.25rem}.modus-date-picker .calendar-container{background-color:var(--modus-date-picker-calendar-body-bg, #fff);box-shadow:0 0 4px #00000029;display:flex;flex-direction:column;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";margin-top:0.15rem;position:absolute;z-index:1}.modus-date-picker .calendar-container .calendar-header{align-items:center;background-color:var(--modus-date-picker-calendar-header-bg, #0063a3);color:var(--modus-date-picker-calendar-header-color, #fff);display:flex;font:normal normal 600 16px/22px "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";height:40px;justify-content:space-around;letter-spacing:0;opacity:1;text-align:center;width:100%}.modus-date-picker .calendar-container .calendar-header svg path{fill:var(--modus-date-picker-calendar-header-color, #fff)}.modus-date-picker .calendar-container .calendar-header .title{align-items:center;display:inline-flex;justify-content:center}.modus-date-picker .calendar-container .calendar-header .calendar-title:focus+.year-icons,.modus-date-picker .calendar-container .calendar-header .calendar-title:hover+.year-icons,.modus-date-picker .calendar-container .calendar-header .calendar-title:active+.year-icons,.modus-date-picker .calendar-container .calendar-header .year-icons:hover,.modus-date-picker .calendar-container .calendar-header .year-icons:focus,.modus-date-picker .calendar-container .calendar-header .year-icons:focus-within{opacity:1 !important}.modus-date-picker .calendar-container .calendar-header .year-icons{display:inline-flex;flex-direction:column;margin-left:0.5rem;opacity:0}.modus-date-picker .calendar-container .calendar-header .year-icons button:active{opacity:0.5}.modus-date-picker .calendar-container .calendar-body{align-items:center;display:flex;flex-direction:column;font-size:0.875rem;justify-content:center;padding:1rem}.modus-date-picker .calendar-container .calendar-body .grid{display:grid;grid-template-columns:repeat(7, 1fr);text-align:center}.modus-date-picker .calendar-container .calendar-body .grid .grid-item{align-items:center;display:flex;height:32px;justify-content:center;width:32px}.modus-date-picker .calendar-container .calendar-body .calendar-days-week{color:var(--modus-date-picker-calendar-day-week-color, #363545);font:normal normal bold 14px/19px "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";letter-spacing:0;opacity:1;text-align:center}.modus-date-picker .calendar-container .calendar-body .calendar-day{color:var(--modus-date-picker-calendar-day-color, #252a2e);font:normal normal normal 14px/19px "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";letter-spacing:0;opacity:1;text-align:center}.modus-date-picker .calendar-container .calendar-body .calendar-day:hover{background:var(--modus-date-picker-calendar-day-hover-bg, #e0e1e9) 0% 0% no-repeat padding-box !important;border-radius:16px}.modus-date-picker .calendar-container .calendar-body .calendar-day.current-day{background:var(--modus-date-picker-calendar-body-bg, #fff) 0% 0% no-repeat padding-box;border:2px solid var(--modus-date-picker-calendar-day-current-border-color, #217cbb);border-radius:16px}.modus-date-picker .calendar-container .calendar-body .calendar-day.selected{background:var(--modus-date-picker-calendar-day-selected-bg, #217cbb) 0% 0% no-repeat padding-box;border-radius:16px;color:var(--modus-date-picker-calendar-day-selected-color, #fff)}.modus-date-picker .calendar-container .calendar-body .calendar-day.selected.start::after,.modus-date-picker .calendar-container .calendar-body .calendar-day.selected.end::after{background-color:var(--modus-date-picker-calendar-day-selected-range-bg, #dcedf9);content:"";height:32px;position:absolute;width:32px;z-index:-1}.modus-date-picker .calendar-container .calendar-body .calendar-day.selected.start::after{border-radius:50% 0 0 50% !important}.modus-date-picker .calendar-container .calendar-body .calendar-day.selected.end::after{border-radius:0 50% 50% 0 !important}.modus-date-picker .calendar-container .calendar-body .calendar-day.disabled{opacity:var(--modus-date-picker-calendar-day-disabled-opacity, 0.3)}.modus-date-picker .calendar-container .calendar-body .calendar-day.range-selected{background:var(--modus-date-picker-calendar-day-selected-range-bg, #dcedf9) 0% 0% no-repeat padding-box}.modus-date-picker .calendar-container .calendar-body .calendar-day.range-selected:hover::before,.modus-date-picker .calendar-container .calendar-body .calendar-day.range-selected.current-day::before{background:var(--modus-date-picker-calendar-day-selected-range-bg, #dcedf9) 0% 0% no-repeat padding-box;content:"";height:32px;position:absolute;width:32px;z-index:-1}.modus-date-picker .calendar-container .calendar-body .calendar-month{position:absolute}.modus-date-picker .calendar-container .calendar-body .calendar-month.invalid-date-range .start::after,.modus-date-picker .calendar-container .calendar-body .calendar-month.invalid-date-range .end::after{opacity:0}.modus-date-picker .calendar-container .calendar-body .calendar-month-container{display:flex;height:180px;justify-content:center;position:relative}';export{s as modus_date_picker}