import{r as i,h as o,g as n}from"./p-123acab3.js";import{d as s,K as t,c as e,p as l,q as r,e as d}from"./p-39f43b44.js";const a=class{constructor(o){i(this,o),this.refItemContent=[],this.table=void 0,this.columnsVisibility=void 0,this.showDropdown=void 0,this.menuIconContainerRef=void 0,this.toggleDropdown=void 0,this.columnsVisibilityState=new Map}applyColumnsVisibility(){this.table.getAllLeafColumns().forEach((i=>{this.columnsVisibilityState.has(i.id)&&i.toggleVisibility(this.columnsVisibilityState.get(i.id))})),this.toggleDropdown(!this.showDropdown),this.menuIconContainerRef.focus()}closeDropdown(){this.columnsVisibilityState=new Map,this.toggleDropdown(!this.showDropdown),this.menuIconContainerRef.focus()}handleApplyKeyDown(i){i.key.toLowerCase()!==s||i.shiftKey||this.toggleDropdown(!1)}handleColumnItemKeyDown(i,o){let n;const s=(i,o)=>{this.refItemContent[i]?this.refItemContent[i].focus():s(o?i+1:i-1,o)},d=i.key.toLowerCase();d===t||d===e?this.toggleColumnVisibility(o):d===l?(n=o+1<this.refItemContent.length?o+1:this.refItemContent.length-1,s(n,!0),i.preventDefault()):d===r&&(n=o-1>=0?o-1:0,s(n,!1),i.preventDefault())}handleRefColumnItemContent(i,o,n){n||(this.refItemContent[o]=i)}toggleColumnVisibility(i){const o=this.refItemContent[i].children[0].shadowRoot.children;o[o.length-1].click()}checkIfRequiredColumn(i){var o,n;return null===(n=null===(o=this.columnsVisibility)||void 0===o?void 0:o.requiredColumns)||void 0===n?void 0:n.includes(i)}renderColumnsChecklist(){const i=(i,o)=>({key:i,tabIndex:this.checkIfRequiredColumn(i)?-1:0,ref:n=>{this.handleRefColumnItemContent(n,o,this.checkIfRequiredColumn(i))},onClick:()=>this.toggleColumnVisibility(o),onKeyDown:i=>this.handleColumnItemKeyDown(i,o)});return this.table.getAllLeafColumns().map(((n,s)=>{var t,e;return o("div",Object.assign({},i(n.id,s),{class:"column-visibility-item"}),o("modus-checkbox",{ariaLabel:n.columnDef.header,label:n.columnDef.header,checked:n.getIsVisible(),onCheckboxClick:i=>this.columnsVisibilityState.set(n.id,i.detail),disabled:null===(e=null===(t=this.columnsVisibility)||void 0===t?void 0:t.requiredColumns)||void 0===e?void 0:e.includes(n.id),stopPropagation:!0}))}))}renderCancelApplyButtons(){return o("div",{class:"column-visibility-buttons-container"},o("modus-button",{size:"small",buttonStyle:"outline",onClick:()=>this.closeDropdown()},"Cancel"),o("modus-button",{size:"small",onClick:()=>this.applyColumnsVisibility(),onKeyDown:i=>this.handleApplyKeyDown(i)},"Apply"))}render(){return o("div",{class:"columns-visibility-menu"},o("div",{class:"column-visibility-header"},this.columnsVisibility.title||"Columns"),o("div",null,this.renderColumnsChecklist()),this.renderCancelApplyButtons())}};a.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");.columns-visibility-menu .column-visibility-header{color:var(--modus-primary, #019aeb);font-size:0.875rem;font-weight:700;line-height:18px;margin:12px;margin-bottom:5px}.columns-visibility-menu .column-visibility-item{padding:5px 5px 5px 12px}.columns-visibility-menu .column-visibility-item:focus,.columns-visibility-menu .column-visibility-item:hover{background:var(--modus-group-item-hover-bg, #e0e1e9);outline:none}.columns-visibility-menu .column-visibility-item:last-child{margin-bottom:10px}.columns-visibility-menu .column-visibility-buttons-container{margin-bottom:12px}modus-button{padding:12px 0 0 12px}';const u=i=>{var n,s,t;return o("svg",{xmlns:"http://www.w3.org/2000/svg",width:null!==(n=i.size)&&void 0!==n?n:16,height:null!==(s=i.size)&&void 0!==s?s:16,onClick:i.onClick?()=>i.onClick():null,fill:null!==(t=i.color)&&void 0!==t?t:"#6A6976",viewBox:"0 0 24 24"},o("path",{d:"M10.59 10.59c-.78.78-.78 2.05 0 2.83s2.05.78 2.83 0 .78-2.05 0-2.83-2.05-.78-2.83 0Zm7 0c-.78.78-.78 2.05 0 2.83s2.05.78 2.83 0 .78-2.05 0-2.83-2.05-.78-2.83 0Zm-14 0c-.78.78-.78 2.05 0 2.83s2.05.78 2.83 0 .78-2.05 0-2.83-2.05-.78-2.83 0Z"}))},m=class{constructor(o){i(this,o),this.table=void 0,this.options=void 0,this.show=!1}handleClickOutside(i){i.composedPath().find((i=>"dropdown-menu-container"===i.className))||(this.show=!1)}handleIconKeyDown(i){const o=i.key.toLowerCase();o===t||o===e?(this.show=!0,i.preventDefault()):o===d&&(this.show=!1,i.preventDefault())}handleDropdownKeyDown(i){i.key.toLowerCase()===d&&(this.show=!1,this.menuIconContainerRef.focus(),i.preventDefault())}render(){var i;return o("div",{class:"dropdown-menu-container"},o("div",{tabIndex:0,class:"dropdown-menu-icon",onClick:()=>this.show=!this.show,onKeyDown:i=>this.handleIconKeyDown(i),ref:i=>this.menuIconContainerRef=i},o(u,{size:"20"})),o("div",{onKeyDown:i=>this.handleDropdownKeyDown(i),class:"dropdown-menu "+(this.show?"visible":"")},o("modus-table-columns-visibility",{table:this.table,columnsVisibility:null===(i=this.options)||void 0===i?void 0:i.columnsVisibility,showDropdown:this.show,menuIconContainerRef:this.menuIconContainerRef,toggleDropdown:i=>this.show=i})))}get element(){return n(this)}};m.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");.dropdown-menu-container{display:inline-block;padding-left:12px;position:relative}.dropdown-menu-container .dropdown-menu-icon{border-radius:3px;cursor:pointer;display:flex;padding:4px}.dropdown-menu-container .dropdown-menu-icon svg{fill:var(--modus-icon-colour, #252a2e)}.dropdown-menu-container .dropdown-menu-icon:hover{background:var(--modus-group-item-hover-bg, #e0e1e9)}.dropdown-menu-container .dropdown-menu{background-color:var(--modus-group-item-bg, #fff);border:1px solid var(--modus-group-item-border-color, #e0e1e9);box-shadow:0 0 4px var(--modus-card-shadow-color, #3635454d);display:none;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";position:absolute;right:0;top:28px;width:240px;z-index:99}.dropdown-menu-container .dropdown-menu.visible{display:block}';export{a as modus_table_columns_visibility,m as modus_table_dropdown_menu}