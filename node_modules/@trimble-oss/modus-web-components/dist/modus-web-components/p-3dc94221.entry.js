import{r as o,c as i,h as e,H as s}from"./p-123acab3.js";import{a as r,I as t}from"./p-df707f65.js";const l=class{constructor(e){o(this,e),this.files=i(this,"files",7),this.onDragLeave=o=>{this.fileDraggedOver=!1,o.preventDefault()},this.onDragOver=o=>{this.error||(this.fileDraggedOver=!0,o.preventDefault())},this.onDrop=o=>{this.fileDraggedOver=!1,o.preventDefault(),this.dropzoneFiles=[...this.dropzoneFiles,...Array.from(o.dataTransfer.files)],this.updateDropzoneState(),this.files.emit([this.dropzoneFiles,this.error]),this.fileInput.value=null},this.onFileChange=()=>{this.dropzoneFiles=[...this.dropzoneFiles,...Array.from(this.fileInput.files)],this.updateDropzoneState(),this.files.emit([this.dropzoneFiles,this.error]),this.fileInput.value=null},this.openBrowse=()=>{this.fileInput.click()},this.updateDropzoneState=()=>{if(!this.multiple&&this.dropzoneFiles.length>1)return this.error="maxFileCount",void(this.errorMessageTop="Multiple files are not allowed.");if(this.maxFileCount&&this.maxFileCount<this.dropzoneFiles.length)return this.error="maxFileCount",void(this.errorMessageTop=`You can only upload ${this.maxFileCount} ${this.maxFileCount>1?"files":"file"}.`);if(this.dropzoneFiles.some((o=>o.name.length>this.maxFileNameLength)))return this.error="maxFileNameLength",void(this.errorMessageTop=`File name exceeds length limit: ${this.dropzoneFiles.find((o=>o.name.length>this.maxFileNameLength)).name}`);const o=this.dropzoneFiles.reduce(((o,i)=>o+i.size),0);if(this.maxTotalFileSizeBytes&&this.maxTotalFileSizeBytes<o)return this.error="maxTotalFileSize",this.errorMessageTop="File exceeds size limit.",void(this.errorMessageBottom=`You can only upload a total file size of ${this.maxTotalFileSizeBytes} bytes.`);this.error=null,this.errorMessageTop="",this.errorMessageBottom=""},this.dropzoneFiles=[],this.error=null,this.fileDraggedOver=!1,this.ariaLabel=void 0,this.description=void 0,this.dropzoneHeight=void 0,this.dropzoneWidth=void 0,this.includeStateIcon=!0,this.label=void 0,this.maxFileCount=void 0,this.maxFileNameLength=void 0,this.maxTotalFileSizeBytes=void 0,this.multiple=!0}elementKeydownHandler(o){"Enter"===o.code&&this.fileInput.click()}async addFile(o){this.dropzoneFiles.push(o),this.updateDropzoneState(),this.files.emit([this.dropzoneFiles,this.error])}async getError(){return this.error}async getFiles(){return this.dropzoneFiles}async removeFile(o){const i=this.dropzoneFiles.find((i=>i.name===o)),e=this.dropzoneFiles.indexOf(i);e>-1&&(this.dropzoneFiles.splice(e,1),this.dropzoneFiles=[...this.dropzoneFiles]),this.updateDropzoneState(),this.files.emit([this.dropzoneFiles,this.error])}render(){return e(s,{"aria-label":this.ariaLabel,role:"button"},e("div",{class:"modus-file-dropzone"},e("input",{onChange:this.onFileChange,multiple:this.multiple,ref:o=>this.fileInput=o,type:"file"}),e("div",{class:"header"},e("label",null,this.label),e("span",null,this.description)),e("div",{class:`dropzone ${this.fileDraggedOver?"highlight":null} ${this.error?"error":null}`,onDragLeave:o=>this.onDragLeave(o),onDragOver:o=>this.onDragOver(o),onDrop:o=>this.onDrop(o),style:{height:this.dropzoneHeight,width:this.dropzoneWidth},tabIndex:0},this.includeStateIcon&&e(this.error?r:t,{size:"36"}),!this.error&&e("div",null,"Drag files here",!this.fileDraggedOver&&e("span",null," ","or",e("span",{class:"browse",onClick:this.openBrowse}," ","browse")," ","to upload"),"."),this.error&&e("div",{class:"error-messages"},this.errorMessageTop&&e("span",null,this.errorMessageTop),this.errorMessageBottom&&e("span",null,this.errorMessageBottom)))))}};l.style='@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700");.modus-file-dropzone{color:var(--modus-body-color, #252a2e);display:flex;flex-direction:column;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.modus-file-dropzone input{display:none}.modus-file-dropzone .header{align-items:start;display:flex;flex-direction:column}.modus-file-dropzone .header label{font-size:1.5rem;font-weight:600;margin-bottom:0.5rem}.modus-file-dropzone .header span{margin-bottom:0.5rem}.modus-file-dropzone .dropzone{align-items:center;background-color:var(--modus-file-upload-dropzone-bg, rgba(241, 241, 246, 0.8));border:0.0625rem dashed var(--modus-file-upload-dropzone-border-color, #6a6e79);border-radius:0.25rem;color:var(--modus-file-upload-dropzone-color, #6a6e79);display:flex;flex-direction:column;font-weight:600;justify-content:center;padding:0.75rem 1rem}.modus-file-dropzone .dropzone .browse{color:var(--modus-file-upload-dropzone-browse-color, #0063a3)}.modus-file-dropzone .dropzone .browse:hover{cursor:pointer}.modus-file-dropzone .dropzone.highlight{background-color:var(--modus-file-upload-dropzone-highlight-bg, #dcedf9);border-color:var(--modus-file-upload-dropzone-highlight-border-color, #0063a3);color:var(--modus-file-upload-dropzone-highlight-color, #0063a3)}.modus-file-dropzone .dropzone.highlight svg{fill:var(--modus-file-upload-dropzone-highlight-color, #0063a3)}.modus-file-dropzone .dropzone.error{background-color:var(--modus-file-upload-dropzone-error-bg, #fbd4d7);border-color:var(--modus-file-upload-dropzone-error-border-color, #ab1f26);color:var(--modus-file-upload-dropzone-error-color, #ab1f26)}.modus-file-dropzone .dropzone.error svg{fill:var(--modus-file-upload-dropzone-error-color, #ab1f26)}.modus-file-dropzone .dropzone .error-messages{align-items:center;display:flex;flex-direction:column}.modus-file-dropzone .dropzone svg{fill:var(--modus-file-upload-dropzone-color, #6a6e79);margin-bottom:0.25rem}';export{l as modus_file_dropzone}