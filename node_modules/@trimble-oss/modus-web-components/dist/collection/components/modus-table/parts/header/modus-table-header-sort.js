import { h, // eslint-disable-line @typescript-eslint/no-unused-vars
 } from '@stencil/core';
import { IconSortAZ } from '../../../icons/icon-sort-a-z';
import { IconSortZA } from '../../../icons/icon-sort-z-a';
import { KEYBOARD_ENTER, SORT_ASCENDING, SORT_DESCENDING, SORTED_ASCENDING, SORTED_DESCENDING, } from '../../modus-table.constants';
/**
 * To show sorting status.
 * @param column Data related to the perticular column.
 * @returns Active sort or sort that will occur.
 */
function showSortingStatus(column, isColumnResizing) {
  return isColumnResizing
    ? '' // When column resize is enabled, we don't show the tooltip.
    : column.getIsSorted() === 'asc'
      ? SORTED_ASCENDING
      : column.getIsSorted() === 'desc'
        ? SORTED_DESCENDING
        : column.getNextSortingOrder() === 'asc'
          ? SORT_ASCENDING
          : SORT_DESCENDING;
}
/**
 * Toggles column sort on 'Enter' key press.
 * @param column Data related to the perticular column.
 * @param event Keyboard event.
 */
function sortOnKeyDown(column, event) {
  if (event.key.toLowerCase() === KEYBOARD_ENTER) {
    column.toggleSorting();
    event.preventDefault();
  }
  event.stopPropagation();
}
export const ModusTableHeaderSort = ({ column, showSortIconOnHover, isColumnResizing, }) => {
  return (h("modus-tooltip", { text: showSortingStatus(column, isColumnResizing), position: "bottom" }, h("span", { tabindex: "0", "aria-label": showSortingStatus(column, isColumnResizing), role: "button", onClick: column.getToggleSortingHandler(), onKeyDown: (event) => sortOnKeyDown(column, event), onMouseDown: (event) => event.stopPropagation(), class: "sort-icon-container" }, h("span", { class: `sort-icon
              ${!column.getIsSorted() && 'disabled'}
              ${showSortIconOnHover ? 'hidden' : ''}
            ` }, column.getIsSorted() === 'asc' ? h(IconSortAZ, { size: '16' }) : h(IconSortZA, { size: '16' })))));
};
